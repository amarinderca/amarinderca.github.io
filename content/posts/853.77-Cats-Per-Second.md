---
title: "853.77 Cats Per Second"
date: 2021-10-07T21:11:27-07:00
draft: false
author: "amarinder"
tags:
  - hardware
  - linux
  - popos
  - machinelearning
  - tensorflow
---

## Fresh Setup

![Parts](https://i.postimg.cc/vm8Pn0yP/IMG-2156.jpg)

![Done](https://i.postimg.cc/HLKQLzk8/IMG-2185.jpg)

## Overview

Purpose for the build is to work with CUDA for data science seperate from my gaming machine in compact build as I have limited desk space.

## Parts List

[PCPartPicker Part List](https://ca.pcpartpicker.com/list/dhncht)

Type|Item|Price
:----|:----|:----
**CPU** | [Intel Core i5-10400F 2.9 GHz 6-Core Processor](https://ca.pcpartpicker.com/product/vrhmP6/intel-core-i5-10400f-29-ghz-6-core-processor-bx8070110400f) | Purchased For $209.99 
**CPU Cooler** | [Deepcool GAMMAXX 400 V2 64.5 CFM CPU Cooler](https://ca.pcpartpicker.com/product/x2JmP6/deepcool-gammaxx-400-v2-645-cfm-cpu-cooler-dp-mch4-gmx400v2-bl) | Purchased For $25.54 
**Motherboard** | [ASRock B560M-ITX/ac Mini ITX LGA1200 Motherboard](https://ca.pcpartpicker.com/product/99JgXL/asrock-b560m-itxac-mini-itx-lga1200-motherboard-b560m-itxac) | Purchased For $130.00 
**Memory** | [G.Skill Ripjaws V Series 32 GB (2 x 16 GB) DDR4-3200 CL16 Memory](https://ca.pcpartpicker.com/product/kXbkcf/gskill-memory-f43200c16d32gvk) | Purchased For $169.99 
**Storage** | [Western Digital Blue SN550 1 TB M.2-2280 NVME Solid State Drive](https://ca.pcpartpicker.com/product/BhmFf7/western-digital-blue-sn550-1-tb-m2-2280-nvme-solid-state-drive-wds100t2b0c) | Purchased For $114.99 
**Video Card** | [EVGA GeForce RTX 3070 Ti 8 GB FTW3 ULTRA GAMING Video Card](https://ca.pcpartpicker.com/product/M2rRsY/evga-geforce-rtx-3070-ti-8-gb-ftw3-ultra-gaming-video-card-08g-p5-3797-kl) | Purchased For $1099.99 
**Case** | [Cooler Master MasterBox NR200 Mini ITX Desktop Case](https://ca.pcpartpicker.com/product/r6bCmG/cooler-master-masterbox-nr200-mini-itx-desktop-case-mcb-nr200-wnnn-s00) | Purchased For $77.05 
**Power Supply** | [Lian Li SP 750 W 80+ Gold Certified Fully Modular SFX Power Supply](https://ca.pcpartpicker.com/product/3ZzhP6/lian-li-sp-750-w-80-gold-certified-fully-modular-sfx-power-supply-sp750) | Purchased For $159.99 
 | *Prices do not include shipping, taxes, rebates, and discounts* |
 | **Total** | **$1987.54**
 | Generated by [PCPartPicker](https://pcpartpicker.com) 2021-10-07 23:57 EDT-0400 |

## Hardware Choices

* I had $2k pre-tax/s&h budget in mind. Initially opting for 3080 due to VRAM but budget and availability had me step down to a 3070 Ti. I was sucessful at this goal
* Why not 3070 non-Ti? Availability and marginal difference in "real" price had me opt for this Ti version. GDDR6X upgrade is worth it for me. Most reviews only did gaming related benchmarks but I would like my use case tested as well
* I am big fan of EVGA cooler design and it shows in the temps I see. IMO EVGA has the best warranty and support in the industry
* Asrock Mobo is basic but functional and ticks all the boxes for me for this build (from size to chipset RAM OC capabilities to headers to vrm to back I/O)
* RAM kit is great for price to perf ratio and overclock ability and is minimum size for my use case
* NVMe might not be what it was before WD nerfed the write speeds but it is still better than SATA speeds for not much of a price difference
* PSU is well reviewed and by reputable manufacturer and satisfies the hungry GPU and it fits my budget 

## OS

Running **Pop_OS! 20.04** (nvidia based installer). Why? It just works (most of the time)


## Build Notes

* Booted right up on the first try!
* Overall impressed with this case, they thought about all the little things like push-fit side panels, PWM case fans, bracket to keep front panel headers together and modularity for the PSU bracket that make building a joy! The price point is good as well
* Had no issues fitting the tall deepcool cooler in this compact case, no clearance issues with the RAM. Mounting mechanism wasn't difficult to work with 
* PSU cables were the perfect size for this build and made cable management easy

## Issues

* Couldn't fit to top 25mm thick case fan with this Asrock motherboard due to the position of the CPU socket. It was really millimeters away from fitting right in (Yes I tried removing the fan grills). I am confident that cooling won't be an issue. Not a deal breaker as I knew this going into the build. The ITX motherboard was the right price. **April 2022 Edit:** I was clearning the case and noticed that the PSU can be mounted a bit lower in the case and I was able to fit the top fan above the PSU
* Slight GPU sag and it took a bit of manoeuvring to get the GPU in the case but it is again not really a deal breaker

## Temps

* I didn't see temps go above 65C (in Room Temprature) for both GPU and CPU in my limited testing
* Idle temps were 30C for CPU and 39C for GPU


## TensorFlow resnet50 benchmark 128 batch size with FP16: 853.77 Cats Per Second!!!

Step|Img/sec|total_loss
:----|:----|:----
1 | 869.2 +/- 0.0 (jitter = 0.0) | 7.858
10 | 870.4 +/- 5.8 (jitter = 4.1) | 7.863
20 | 860.0 +/- 5.6 (jitter = 9.9) | 7.841
30 | 866.0 +/- 4.1 (jitter = 4.9) | 7.887
40 | 856.3 +/- 4.7 (jitter = 10.7) | 7.968
50 | 855.2 +/- 4.2 (jitter = 11.7) | 7.871
60 | 854.8 +/- 3.7 (jitter = 17.1) | 7.889
70 | 856.5 +/- 3.3 (jitter = 10.3) | 7.896
80 | 853.8 +/- 3.3 (jitter = 17.1) | 7.900
90 | 854.5 +/- 3.1 (jitter = 12.0) | 7.719
100 | 854.0 +/- 2.9 (jitter = 15.1) | 7.897
 |  | **total images/sec: 853.77** |

## Build Pics


![Case](https://i.postimg.cc/HxVBZjVX/IMG-2158.jpg)
![Cooler](https://i.postimg.cc/KjTQbV7Y/IMG-2159.jpg)
![Cooler2](https://i.postimg.cc/Y9Z8JkWV/IMG-2160.jpg)
![PSU](https://i.postimg.cc/8zNw8Z71/IMG-2165.jpg)
![GPU](https://i.postimg.cc/ZYvw6Bkh/IMG-2166.jpg)
![MOBO](https://i.postimg.cc/qMfjwJ06/IMG-2167.jpg)
![Case Side 1](https://i.postimg.cc/9fxLYyFc/IMG-2168.jpg)
![Base Back](https://i.postimg.cc/9FG1N6F8/IMG-2169.jpg)
![Case Front](https://i.postimg.cc/tgg5J7dw/IMG-2170.jpg)
![Case Top](https://i.postimg.cc/3RsCt1MQ/IMG-2171.jpg)
![Case Side 2](https://i.postimg.cc/g2ssG3h3/IMG-2172.jpg)
![Case bottom](https://i.postimg.cc/gJXHy5TK/IMG-2173.jpg)
![Case barebones](https://i.postimg.cc/6Q1hvwY3/IMG-2174.jpg)
![Case barebones 2](https://i.postimg.cc/bYnRs7by/IMG-2175.jpg)
![Case barebones 3](https://i.postimg.cc/CLVsDcHj/IMG-2176.jpg)
![Case barebones 4](https://i.postimg.cc/Y0QNZFkG/IMG-2177.jpg)
![Case barebones 5](https://i.postimg.cc/vHLLv53C/IMG-2178.jpg)
![RAM](https://i.postimg.cc/BnS57tzb/IMG-2180.jpg)
![Pre Wiring](https://i.postimg.cc/zf3C5681/IMG-2182.jpg)

